name: Auto Deploy to GitHub Pages
on:
  push:
    branches:
      - main
  workflow_dispatch:
name: Auto Deploy to GitHub Pages
on:
  push:
    branches:
      - main
  workflow_dispatch:  # âœ… ÙŠØ³Ù…Ø­ Ø¨Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙŠØ¯ÙˆÙŠ

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Setup Pages
        uses: actions/configure-pages@v3

      - name: Generate Index Page
        run: |
          echo '<!DOCTYPE html>' > index.html
          echo '<html lang="ar">' >> index.html
          echo '<head><meta charset="UTF-8"><title>ØµÙØ­Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹</title></head>' >> index.html
          echo '<body><h1>ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</h1>' >> index.html
          for file in $(ls *.html | grep -v 'index.html'); do
            echo "<p><a href=\"$file\">$file</a></p>" >> index.html
          done
          echo '</body></html>' >> index.html

      - name: Upload and Deploy
        uses: actions/deploy-pages@v2