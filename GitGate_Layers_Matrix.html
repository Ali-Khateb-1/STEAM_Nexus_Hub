<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Solvanix Logo Matrix Reveal</title>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
    }
    canvas {
      display: block;
      margin: auto;
      background: black;
    }
  </style>
</head>
<body>
<canvas id="logoCanvas"></canvas>

<script>
  const canvas = document.getElementById('logoCanvas');
  const ctx = canvas.getContext('2d');
  const img = new Image();
  img.src = "solvanix_layer_base.png"; // تأكد أن الصورة في نفس المسار

  img.onload = () => {
    const w = img.width;
    const h = img.height;
    canvas.width = w;
    canvas.height = h;

    // نرسم الصورة الأصلية مؤقتًا ونأخذ بيانات البكسل
    const bufferCanvas = document.createElement('canvas');
    bufferCanvas.width = w;
    bufferCanvas.height = h;
    const btx = bufferCanvas.getContext('2d');
    btx.drawImage(img, 0, 0);
    const imageData = btx.getImageData(0, 0, w, h);
    const fullData = imageData.data;

    // نبدأ الرسم تدريجيًا
    let yOffsets = Array(w).fill(0); // لكل عمود من اليسار لليمين

    function draw() {
      const frame = ctx.getImageData(0, 0, w, h);
      const data = frame.data;

      for (let x = 0; x < w; x++) {
        const y = Math.floor(yOffsets[x]);
        if (y >= h) continue;

        const i = (y * w + x) * 4;
        data[i] = fullData[i];       // R
        data[i+1] = fullData[i+1];   // G
        data[i+2] = fullData[i+2];   // B
        data[i+3] = fullData[i+3];   // A

        yOffsets[x] += Math.random() * 1.5 + 0.5;
      }

      ctx.putImageData(frame, 0, 0);
      requestAnimationFrame(draw);
    }

    draw();
  }
</script>
</body>
</html>
